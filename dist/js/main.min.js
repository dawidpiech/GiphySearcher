function changeType(){let e=document.querySelector(".dropdown-toggle");conf.type=this.dataset.type,e.innerHTML=this.innerHTML}function search(){let e=document.querySelector(".form-control");null===e&&""===e||fetch(`http://api.giphy.com/v1${conf.type}?q=${e.value}&api_key=${conf.api}`).then(e=>e.json(),e=>console.log(e)).then(e=>{let t=[],n=0;e.data.forEach(e=>{t.push({url:e.images.original.url,height:e.images.original.height}),n+=parseInt(e.images.original.height)}),loadPhotos(t,n)})}function loadPhotos(e,t){let n=document.querySelector(".giphy-container");n.innerHTML="";for(let t=0;t<e.length;t++){let o=document.createElement("div"),i=document.createElement("img");o.classList.add("giphy-item"),o.classList.add("load"),i.src=e[t].url,i.style.opacity=0,o.append(i),n.append(o)}checkGiphyLoad()}function checkGiphyLoad(){let e=document.querySelectorAll(".giphy-item img"),t=0;for(let n=0;n<e.length;n++)e[n].complete?(e[n].parentNode.classList.remove("load"),e[n].parentNode.style.minHeight="auto",e[n].style.opacity=1,t+=e[n].height,changeRowHeight(e[n].parentElement)):e[n].addEventListener("load",function(){this.parentNode.classList.remove("load"),this.parentNode.style.minHeight="auto",this.style.opacity=1,t+=e[n].height,changeRowHeight(e[n].parentElement)})}function trendings(){let e=`https://api.giphy.com/v1/gifs/trending?api_key=${conf.api}`,t=new XMLHttpRequest;t.open("GET",e,!0),t.addEventListener("load",function(){let e=[],t=0;JSON.parse(this.response).data.forEach(n=>{e.push({url:n.images.original.url,height:n.images.original.height}),t+=parseInt(n.images.original.height)}),loadPhotos(e,t)}),t.addEventListener("error",function(e){alert(`Error: ${e}`)}),t.send()}function changeRowHeight(e){let t=document.querySelector(".giphy-container"),n=parseInt(window.getComputedStyle(t).getPropertyValue("grid-row-gap")),o=parseInt(window.getComputedStyle(t).getPropertyValue("grid-auto-rows")),i=Math.ceil((e.querySelector("img").getBoundingClientRect().height+n)/(o+n));e.style.gridRowEnd="span "+i}function changeAllItemsRowHeight(){document.querySelectorAll(".giphy-item").forEach(e=>{changeRowHeight(e)})}let conf={api:"oZK4fZ9FBoInucG7HJr9LNdgvlElUENW",type:"/gifs/search"},search_button=document.querySelector(".search-button");document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".dropdown-item").forEach(e=>{e.addEventListener("click",changeType)}),search_button.addEventListener("click",search),document.addEventListener("keydown",e=>{13===e.keyCode&&search()}),trendings(),window.addEventListener("resize",changeAllItemsRowHeight)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZ1bmN0aW9ucy5qcyIsInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJjaGFuZ2VUeXBlIiwiZHJvcFRpdGxlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29uZiIsInR5cGUiLCJ0aGlzIiwiZGF0YXNldCIsImlubmVySFRNTCIsInNlYXJjaCIsImlucHV0X3ZhbHVlIiwiZmV0Y2giLCJ2YWx1ZSIsImFwaSIsInRoZW4iLCJyZXNwIiwianNvbiIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInBob3RvcyIsImhlaWdodCIsImRhdGEiLCJmb3JFYWNoIiwiZSIsInB1c2giLCJ1cmwiLCJpbWFnZXMiLCJvcmlnaW5hbCIsInBhcnNlSW50IiwibG9hZFBob3RvcyIsInBob3Rvc19jb250YWluZXIiLCJpIiwibGVuZ3RoIiwicGhvdG9fY29udGFpbmVyIiwiY3JlYXRlRWxlbWVudCIsInBob3RvIiwiY2xhc3NMaXN0IiwiYWRkIiwic3JjIiwic3R5bGUiLCJvcGFjaXR5IiwiYXBwZW5kIiwiY2hlY2tHaXBoeUxvYWQiLCJwaG90b19jb250YWluZXJzIiwicXVlcnlTZWxlY3RvckFsbCIsImNvbXBsZXRlIiwicGFyZW50Tm9kZSIsInJlbW92ZSIsIm1pbkhlaWdodCIsImNoYW5nZVJvd0hlaWdodCIsInBhcmVudEVsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwidHJlbmRpbmdzIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwiSlNPTiIsInBhcnNlIiwicmVzcG9uc2UiLCJhbGVydCIsInNlbmQiLCJpdGVtIiwiZ3JpZCIsInJvd0dhcCIsIndpbmRvdyIsImdldENvbXB1dGVkU3R5bGUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwicm93SGVpZ2h0Iiwicm93U3BhbiIsIk1hdGgiLCJjZWlsIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZ3JpZFJvd0VuZCIsImNoYW5nZUFsbEl0ZW1zUm93SGVpZ2h0IiwiYSIsInNlYXJjaF9idXR0b24iLCJrZXlDb2Rl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QUosSUFDQUYsRUFBQXRCLE1BQUFpQyxXQUFBLFFBQUFKLEVBSUEsU0FBQUssMEJBQ0F4RSxTQUFBMkMsaUJBQUEsZUFDQXRCLFFBQUFvRCxJQUNBekIsZ0JBQUF5QixLQ2hJQSxJQUFBdkUsS0FBQSxDQUNBUyxJQUFBLG1DQUNBUixLQUFBLGdCQUVBdUUsY0FBQTFFLFNBQUFDLGNBQUEsa0JBRUFELFNBQUFrRCxpQkFBQSxtQkFBQSxLQUVBbEQsU0FBQTJDLGlCQUFBLGtCQUdBdEIsUUFBQW9ELElBQ0FBLEVBQUF2QixpQkFBQSxRQUFBcEQsY0FJQTRFLGNBQUF4QixpQkFBQSxRQUFBM0MsUUFHQVAsU0FBQWtELGlCQUFBLFVBQUE1QixJQUNBLEtBQUFBLEVBQUFxRCxTQUNBcEUsV0FJQTRDLFlBR0FZLE9BQUFiLGlCQUFBLFNBQUFzQiIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG4vL0NoYW5nZSB0eXBlIHNlYXJjaCBTVElDS1kvR0lQSFlcclxuZnVuY3Rpb24gY2hhbmdlVHlwZSgpIHtcclxuICAgIGxldCBkcm9wVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmRyb3Bkb3duLXRvZ2dsZVwiKVxyXG5cclxuICAgIGNvbmYudHlwZSA9IHRoaXMuZGF0YXNldC50eXBlXHJcbiAgICBkcm9wVGl0bGUuaW5uZXJIVE1MID0gdGhpcy5pbm5lckhUTUxcclxufVxyXG5cclxuLy9TZWFyY2ggZ2lwaHlcclxuZnVuY3Rpb24gc2VhcmNoKCkge1xyXG4gICAgbGV0IGlucHV0X3ZhbHVlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtLWNvbnRyb2xcIilcclxuXHJcbiAgICBpZiAoaW5wdXRfdmFsdWUgIT09IG51bGwgfHwgaW5wdXRfdmFsdWUgIT09IFwiXCIpIHtcclxuXHJcbiAgICAgICAgZmV0Y2goYGh0dHA6Ly9hcGkuZ2lwaHkuY29tL3YxJHtjb25mLnR5cGV9P3E9JHtpbnB1dF92YWx1ZS52YWx1ZX0mYXBpX2tleT0ke2NvbmYuYXBpfWApXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3AgPT4gcmVzcC5qc29uKCksXHJcbiAgICAgICAgICAgICAgICBlcnJvciA9PiBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBwaG90b3MgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSAwXHJcblxyXG4gICAgICAgICAgICAgICAgcmVzcC5kYXRhLmZvckVhY2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGhvdG9zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGUuaW1hZ2VzLm9yaWdpbmFsLnVybCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBlLmltYWdlcy5vcmlnaW5hbC5oZWlnaHRcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCArPSBwYXJzZUludChlLmltYWdlcy5vcmlnaW5hbC5oZWlnaHQpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgIGxvYWRQaG90b3MocGhvdG9zLCBoZWlnaHQpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vL0xvYWQgcmVjaXZlZCBwaG90b3NcclxuZnVuY3Rpb24gbG9hZFBob3RvcyhwaG90b3MsIGhlaWdodCkge1xyXG4gICAgbGV0IHBob3Rvc19jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdpcGh5LWNvbnRhaW5lclwiKVxyXG4gICAgcGhvdG9zX2NvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiXHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwaG90b3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBsZXQgcGhvdG9fY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcclxuICAgICAgICAgICAgcGhvdG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpXHJcblxyXG4gICAgICAgIHBob3RvX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZ2lwaHktaXRlbVwiKVxyXG4gICAgICAgIHBob3RvX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibG9hZFwiKVxyXG4gICAgICAgIHBob3RvLnNyYyA9IHBob3Rvc1tpXS51cmxcclxuICAgICAgICBwaG90by5zdHlsZS5vcGFjaXR5ID0gMFxyXG4gICAgICAgIHBob3RvX2NvbnRhaW5lci5hcHBlbmQocGhvdG8pXHJcbiAgICAgICAgcGhvdG9zX2NvbnRhaW5lci5hcHBlbmQocGhvdG9fY29udGFpbmVyKVxyXG5cclxuICAgIH1cclxuICAgIGNoZWNrR2lwaHlMb2FkKClcclxufVxyXG5cclxuLy9QcmVsb2FkZXIgdG8gZ2lwaHlcclxuZnVuY3Rpb24gY2hlY2tHaXBoeUxvYWQoKSB7XHJcbiAgICBsZXQgcGhvdG9fY29udGFpbmVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZ2lwaHktaXRlbSBpbWdcIiksXHJcbiAgICAgICAgaGVpZ2h0ID0gMFxyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGhvdG9fY29udGFpbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChwaG90b19jb250YWluZXJzW2ldLmNvbXBsZXRlKSB7XHJcbiAgICAgICAgICAgIHBob3RvX2NvbnRhaW5lcnNbaV0ucGFyZW50Tm9kZS5jbGFzc0xpc3QucmVtb3ZlKFwibG9hZFwiKVxyXG4gICAgICAgICAgICBwaG90b19jb250YWluZXJzW2ldLnBhcmVudE5vZGUuc3R5bGUubWluSGVpZ2h0ID0gXCJhdXRvXCJcclxuICAgICAgICAgICAgcGhvdG9fY29udGFpbmVyc1tpXS5zdHlsZS5vcGFjaXR5ID0gMVxyXG4gICAgICAgICAgICBoZWlnaHQgKz0gcGhvdG9fY29udGFpbmVyc1tpXS5oZWlnaHRcclxuICAgICAgICAgICAgY2hhbmdlUm93SGVpZ2h0KHBob3RvX2NvbnRhaW5lcnNbaV0ucGFyZW50RWxlbWVudClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwaG90b19jb250YWluZXJzW2ldLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50Tm9kZS5jbGFzc0xpc3QucmVtb3ZlKFwibG9hZFwiKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnROb2RlLnN0eWxlLm1pbkhlaWdodCA9IFwiYXV0b1wiXHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlLm9wYWNpdHkgPSAxXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQgKz0gcGhvdG9fY29udGFpbmVyc1tpXS5oZWlnaHRcclxuICAgICAgICAgICAgICAgIGNoYW5nZVJvd0hlaWdodChwaG90b19jb250YWluZXJzW2ldLnBhcmVudEVsZW1lbnQpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vL0xvYWQgdHJlbmRpbmdzIG9uIGhvbWUgcGFnZVxyXG5mdW5jdGlvbiB0cmVuZGluZ3MoKSB7XHJcbiAgICBsZXQgYXBpID0gYGh0dHBzOi8vYXBpLmdpcGh5LmNvbS92MS9naWZzL3RyZW5kaW5nP2FwaV9rZXk9JHtjb25mLmFwaX1gLFxyXG4gICAgICAgIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXHJcblxyXG4gICAgeGhyLm9wZW4oXCJHRVRcIiwgYXBpLCB0cnVlKVxyXG5cclxuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGxldCBwaG90b3MgPSBbXSxcclxuICAgICAgICAgICAgaGVpZ2h0ID0gMCxcclxuICAgICAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UodGhpcy5yZXNwb25zZSkuZGF0YVxyXG5cclxuICAgICAgICBkYXRhLmZvckVhY2goZSA9PiB7XHJcbiAgICAgICAgICAgIHBob3Rvcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHVybDogZS5pbWFnZXMub3JpZ2luYWwudXJsLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBlLmltYWdlcy5vcmlnaW5hbC5oZWlnaHRcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgaGVpZ2h0ICs9IHBhcnNlSW50KGUuaW1hZ2VzLm9yaWdpbmFsLmhlaWdodClcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBsb2FkUGhvdG9zKHBob3RvcywgaGVpZ2h0KVxyXG5cclxuICAgIH0pXHJcblxyXG4gICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBhbGVydChgRXJyb3I6ICR7ZX1gKVxyXG4gICAgfSlcclxuXHJcbiAgICB4aHIuc2VuZCgpXHJcbn1cclxuXHJcblxyXG4vL0NoYW5nZSBwb3NpdGlvbiBvbmUgaW1hZ2VcclxuZnVuY3Rpb24gY2hhbmdlUm93SGVpZ2h0KGl0ZW0pIHtcclxuICAgIGxldCBncmlkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5naXBoeS1jb250YWluZXJcIiksXHJcbiAgICAgICAgcm93R2FwID0gcGFyc2VJbnQod2luZG93LmdldENvbXB1dGVkU3R5bGUoZ3JpZCkuZ2V0UHJvcGVydHlWYWx1ZShcImdyaWQtcm93LWdhcFwiKSksXHJcbiAgICAgICAgcm93SGVpZ2h0ID0gcGFyc2VJbnQod2luZG93LmdldENvbXB1dGVkU3R5bGUoZ3JpZCkuZ2V0UHJvcGVydHlWYWx1ZShcImdyaWQtYXV0by1yb3dzXCIpKSxcclxuICAgICAgICByb3dTcGFuID0gTWF0aC5jZWlsKChpdGVtLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCArIHJvd0dhcCkgLyAocm93SGVpZ2h0ICsgcm93R2FwKSlcclxuICAgIGl0ZW0uc3R5bGUuZ3JpZFJvd0VuZCA9IFwic3BhbiBcIiArIHJvd1NwYW5cclxufVxyXG5cclxuLy9UcmlnZ2VyIHRvIGNoYW5nZSBwb3NpdGlvbiBhbGwgaW1hZ2VzXHJcbmZ1bmN0aW9uIGNoYW5nZUFsbEl0ZW1zUm93SGVpZ2h0KCkge1xyXG4gICAgbGV0IGFsbEl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5naXBoeS1pdGVtXCIpXHJcbiAgICBhbGxJdGVtcy5mb3JFYWNoKGEgPT4ge1xyXG4gICAgICAgIGNoYW5nZVJvd0hlaWdodChhKVxyXG4gICAgfSlcclxufVxyXG5cclxuIiwibGV0IGNvbmYgPSB7XHJcbiAgICBhcGk6IFwib1pLNGZaOUZCb0ludWNHN0hKcjlMTmRndmxFbFVFTldcIixcclxuICAgIHR5cGU6IFwiL2dpZnMvc2VhcmNoXCJcclxufSxcclxuICAgIHNlYXJjaF9idXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlYXJjaC1idXR0b25cIilcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcclxuXHJcbiAgICBsZXQgdHlwZV9oYW5kbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmRyb3Bkb3duLWl0ZW1cIilcclxuXHJcbiAgICAvL0NoYW5nZSB0eXBlIHNlYXJjaCBTVElDS0VSL0dJUEhZXHJcbiAgICB0eXBlX2hhbmRsZS5mb3JFYWNoKGEgPT4ge1xyXG4gICAgICAgIGEuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNoYW5nZVR5cGUpXHJcbiAgICB9KVxyXG5cclxuICAgIC8vVFJJR0VSIFNFQVJDSFxyXG4gICAgc2VhcmNoX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgc2VhcmNoKVxyXG5cclxuICAgIC8vVHJpZ2VyIHNlYXJjaCB3aGVuIHByZXNzIGVudGVyXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xyXG4gICAgICAgIGlmIChlLmtleUNvZGUgPT09IDEzKVxyXG4gICAgICAgICAgICBzZWFyY2goKVxyXG4gICAgfSlcclxuXHJcbiAgICAvL0xvYWQgdHJlbmRpbmdzIEdJUEhZIG9uIGhvbWUgcGFnZVxyXG4gICAgdHJlbmRpbmdzKClcclxuXHJcbiAgICAvL0NoYW5nZSBwb3NpdGlvbiBpbWFnZSB3aGVuIHNpemUgY29udGFpbmVyIGlzIHJlc2l6ZVxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGNoYW5nZUFsbEl0ZW1zUm93SGVpZ2h0KVxyXG5cclxufSkiXX0=
